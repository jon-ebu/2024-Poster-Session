<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2024 Poster Session</title>
    <!-- Include FooTable CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/footable/3.1.6/footable.core.min.css">
    <style>
        .pagination {
            margin-top: 10px;
            text-align: center;
        }
        .pagination button {
            margin: 0 5px;
            padding: 5px 10px;
        }
    </style>
</head>
<body>
    <table id="tsvTable" class="footable"></table>
    <div class="pagination" id="paginationControls"></div>

    <!-- Include jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <!-- Include FooTable JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/footable/3.1.6/footable.min.js"></script>

    <script>
        let currentPage = 1;
        const rowsPerPage = 10;
        let tableData = [];

        // Fetch the TSV file using AJAX
        fetch('2024-poster-session-coordinates.tsv')
            .then(response => response.text())
            .then(text => {
                const rows = text.split('\n');
                tableData = rows.map(row => row.split('\t').map(cell => cell.trim()));
                currentPage = 1;
                displayTable();
                initializeFooTable();
            })
            .catch(error => console.error('Error fetching TSV file:', error));

        function displayTable() {
            const table = document.getElementById('tsvTable');
            table.innerHTML = '';

            // Generate table headers
            let headerRow = '<thead><tr>';
            tableData[0].forEach(header => {
                headerRow += `<th>${header}</th>`;
            });
            headerRow += '</tr></thead>';
            table.innerHTML += headerRow;

            // Generate table rows for the current page
            let bodyRows = '<tbody>';
            const start = (currentPage - 1) * rowsPerPage + 1;
            const end = Math.min(start + rowsPerPage - 1, tableData.length - 1);
            for (let i = start; i <= end; i++) {
                let row = '<tr>';
                tableData[i].forEach((cell, index) => {
                    row += `<td>${cell}</td>`;
                });
                row += '</tr>';
                bodyRows += row;
            }
            bodyRows += '</tbody>';
            table.innerHTML += bodyRows;
        }

        function initializeFooTable() {
            $('#tsvTable').footable({
                paginate: false, // Disable pagination
                toggle: true // Enable toggle feature
            });
        }
    </script>
</body>
</html>